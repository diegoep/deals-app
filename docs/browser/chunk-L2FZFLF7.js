import{a as O,b as W}from"./chunk-EBKQSYUX.js";import{a as b,b as F,c as R,d as A,u as H}from"./chunk-7QBIDACQ.js";import{f as k,h as V}from"./chunk-UK4X4L25.js";import"./chunk-EJJBCPAK.js";import{Cb as w,Fb as f,Hb as r,J as C,R as D,Sb as I,Ta as c,U as g,Vb as S,Wb as B,Xb as E,Yb as M,_b as T,ba as o,fa as h,kb as v,n as _,na as d,oa as s,ob as y,sb as x,wb as m,xb as p,z as u}from"./chunk-75YPSS4G.js";function U(i,t){if(i&1){let e=w();m(0,"mat-card")(1,"mat-card-header",0)(2,"h2"),I(3),p()(),m(4,"mat-card-content")(5,"td-deal-form",1),f("onCancel",function(){d(e);let a=r();return s(a.goHome())}),M("dealChange",function(a){d(e);let l=r();return E(l.deal,a)||(l.deal=a),s(a)}),f("dealChange",function(a){d(e);let l=r();return s(l.dealUpdated(a))}),p()()()}if(i&2){let e=r();c(3),S("Editing deal #",e.deal.id," ",e.deal.name,""),c(2),y("action",e.DealFormActions.EDIT),B("deal",e.deal)}}var P=class i{route=o(k);router=o(V);dealService=o(A);snackBar=o(H);DealFormActions=O;deal;ngOnInit(){this.route.queryParams.pipe(C(),D(t=>{let e=t.dealId;return e?this.dealService.getDeal(parseInt(e)):_(null)}),u(t=>!!t),g(t=>{this.deal=t})).subscribe()}dealUpdated(t){this.showSnackBar("Deal updated","View").onAction().subscribe(()=>this.navigateToDeals({dealId:t.id})),this.navigateToDeals()}goHome(){this.navigateToDeals()}showSnackBar(t,e="Close",n=3e3){return this.snackBar.open(t,e,{duration:n})}navigateToDeals(t={}){this.router.navigate(["/myDeals"],{queryParams:t})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-edit-deal"]],standalone:!0,features:[T],decls:1,vars:1,consts:[[1,"card-header"],[3,"onCancel","dealChange","action","deal"]],template:function(e,n){e&1&&v(0,U,6,4,"mat-card"),e&2&&x(n.deal?0:-1)},dependencies:[W,F,R,b],encapsulation:2})};export{P as EditDealComponent};
